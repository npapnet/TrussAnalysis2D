<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>quickstart &#8212; NPP 2d Truss Analysis 0.1.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=12dfc556" />
    <script src="../_static/documentation_options.js?v=a58bc63e"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tutorial original input" href="tutorial_original_input.html" />
    <link rel="prev" title="Tutorials" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="quickstart">
<h1>quickstart<a class="headerlink" href="#quickstart" title="Link to this heading">¶</a></h1>
<p>This tutorial demonstrates a quick way to get started.</p>
<p>We will use a JSON configuration to define the truss structure and then perform an analysis to determine the reactions and rod forces and plot the results.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">¶</a></h2>
<p>Use</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>npp_2d_truss_analysis
</pre></div>
</div>
</section>
<section id="import-necessary-libraries-setup">
<h2>Import Necessary Libraries/Setup<a class="headerlink" href="#import-necessary-libraries-setup" title="Link to this heading">¶</a></h2>
<p>To start, we need to import necessary modules and define the project directory and file name prefix.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pathlib</span>

<span class="kn">from</span> <span class="nn">npp_2d_truss_analysis</span> <span class="kn">import</span> <span class="n">Info</span><span class="p">,</span> <span class="n">TrussAnalysisProject</span>

<span class="n">pp_project_dir</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;./&#39;</span><span class="p">)</span>
<span class="n">FNAME_PREFIX</span> <span class="o">=</span> <span class="s1">&#39;test&#39;</span>

<span class="n">info</span> <span class="o">=</span> <span class="n">Info</span><span class="p">(</span><span class="n">project_directory</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">pp_project_dir</span><span class="o">.</span><span class="n">absolute</span><span class="p">()),</span> <span class="n">file_name</span><span class="o">=</span><span class="n">FNAME_PREFIX</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="defining-the-truss-structure">
<h2>Defining the Truss Structure<a class="headerlink" href="#defining-the-truss-structure" title="Link to this heading">¶</a></h2>
<p>The truss structure is defined using a JSON string. This includes the definition of nodes, elements, materials, displacements, and forces.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">JSON_TEXT</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;{</span>
<span class="s2">    &quot;mesh&quot;:{</span>
<span class="s2">        &quot;nodes&quot;: [</span>
<span class="s2">        {&quot;id&quot;: 1, &quot;coordinates&quot;: [0, 0]},</span>
<span class="s2">        {&quot;id&quot;: 2, &quot;coordinates&quot;: [0, 2]},</span>
<span class="s2">        {&quot;id&quot;: 3, &quot;coordinates&quot;: [0, 4]},</span>
<span class="s2">        {&quot;id&quot;: 4, &quot;coordinates&quot;: [4, 4]},</span>
<span class="s2">        {&quot;id&quot;: 5, &quot;coordinates&quot;: [4, 2]}</span>
<span class="s2">        ],</span>
<span class="s2">        &quot;elements&quot;: [</span>
<span class="s2">        {&quot;id&quot;: 1, &quot;connectivity&quot;: [4, 3], &quot;materialId&quot;: 1},</span>
<span class="s2">        {&quot;id&quot;: 2, &quot;connectivity&quot;: [3, 2], &quot;materialId&quot;: 1},</span>
<span class="s2">        {&quot;id&quot;: 3, &quot;connectivity&quot;: [2, 4], &quot;materialId&quot;: 1},</span>
<span class="s2">        {&quot;id&quot;: 4, &quot;connectivity&quot;: [4, 5], &quot;materialId&quot;: 1},</span>
<span class="s2">        {&quot;id&quot;: 5, &quot;connectivity&quot;: [5, 2], &quot;materialId&quot;: 1},</span>
<span class="s2">        {&quot;id&quot;: 6, &quot;connectivity&quot;: [2, 1], &quot;materialId&quot;: 1},</span>
<span class="s2">        {&quot;id&quot;: 7, &quot;connectivity&quot;: [1, 5], &quot;materialId&quot;: 1}</span>
<span class="s2">        ],</span>
<span class="s2">        &quot;materials&quot;: [</span>
<span class="s2">        {&quot;id&quot;: 1, &quot;youngModulus&quot;: 200000000000.0, &quot;area&quot;: 1.0}</span>
<span class="s2">        ]</span>
<span class="s2">    },</span>
<span class="s2">    &quot;displacements&quot;:{</span>
<span class="s2">        &quot;pin&quot;: [</span>
<span class="s2">        {&quot;id&quot;: 1, &quot;node&quot;:4, &quot;angle&quot;: 0,&quot;dx&quot;: 0, &quot;dy&quot;:0}</span>
<span class="s2">        ],</span>
<span class="s2">        &quot;rollers&quot;: [</span>
<span class="s2">        {&quot;id&quot;: 1, &quot;node&quot;: 1, &quot;direction&quot;: 1, &quot;angle&quot;: -63.4349, &quot;dx&quot;:0}</span>
<span class="s2">        ]</span>
<span class="s2">    },</span>
<span class="s2">    &quot;forces&quot;: [</span>
<span class="s2">    {&quot;id&quot;: 1, &quot;node&quot;:5, &quot;direction&quot;: -180,&quot;x&quot;: 40000, &quot;y&quot;:0},</span>
<span class="s2">    {&quot;id&quot;: 2, &quot;node&quot;:3, &quot;direction&quot;:  200,&quot;x&quot;: 20000, &quot;y&quot;:0}</span>
<span class="s2">    ]</span>
<span class="s2">}&quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="creating-the-truss-problem">
<h2>Creating the Truss Problem<a class="headerlink" href="#creating-the-truss-problem" title="Link to this heading">¶</a></h2>
<p>We instantiate the truss problem from the JSON text.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">truss_problem</span> <span class="o">=</span> <span class="n">TrussAnalysisProject</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">json_text</span><span class="o">=</span><span class="n">JSON_TEXT</span><span class="p">,</span>
</pre></div>
</div>
</section>
<section id="updating-forces-optional">
<h2>Updating Forces (optional)<a class="headerlink" href="#updating-forces-optional" title="Link to this heading">¶</a></h2>
<p>Before solving the problem, we update the forces as needed.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">truss_problem</span><span class="o">.</span><span class="n">_forces</span><span class="o">.</span><span class="n">update_force_by_id</span><span class="p">(</span><span class="n">force_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="mi">180</span><span class="o">+</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="listing-forces-optional">
<h2>Listing Forces (Optional)<a class="headerlink" href="#listing-forces-optional" title="Link to this heading">¶</a></h2>
<p>Optionally, list the forces to verify the updates.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">truss_problem</span><span class="o">.</span><span class="n">_forces</span><span class="o">.</span><span class="n">list_forces</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="solving-the-problem">
<h2>Solving the Problem<a class="headerlink" href="#solving-the-problem" title="Link to this heading">¶</a></h2>
<p>Now, we write the input data and solve the truss problem.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">truss_problem</span><span class="o">.</span><span class="n">write_input_data</span><span class="p">()</span>
<span class="c1"># truss_problem.update_matrices() # optional because solve automatically does that</span>
<span class="n">truss_problem</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="reporting-the-solution">
<h2>Reporting the Solution<a class="headerlink" href="#reporting-the-solution" title="Link to this heading">¶</a></h2>
<p>Finally, we print the solution, including the reactions and rod forces.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-------------solution ----------------&quot;</span><span class="p">)</span>
<span class="n">truss_problem</span><span class="o">.</span><span class="n">report_reactions</span><span class="p">(</span><span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;&gt;12.1f&#39;</span><span class="p">)</span>
<span class="n">truss_problem</span><span class="o">.</span><span class="n">report_rod_forces</span><span class="p">(</span><span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;&gt;12.1f&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="plotting-the-truss">
<h2>Plotting the truss<a class="headerlink" href="#plotting-the-truss" title="Link to this heading">¶</a></h2>
<p>It is also possible to plot the truss using the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">truss_problem</span><span class="o">.</span><span class="n">plot_truss</span><span class="p">(</span><span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>using the flags save and show to save the plot to a file and/or show the plot on the screen.</p>
</section>
<section id="plotting-truss-deformation-and-stresses">
<h2>Plotting truss deformation and stresses<a class="headerlink" href="#plotting-truss-deformation-and-stresses" title="Link to this heading">¶</a></h2>
<p>After solving the problem, we can plot the deformed state and the stresses.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">truss_problem</span><span class="o">.</span><span class="n">plot_deformation</span><span class="p">(</span><span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">truss_problem</span><span class="o">.</span><span class="n">plot_stresses</span><span class="p">(</span><span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>using the flags save and show to save the plot to a file and/or show the plot on the screen.</p>
<p>The color of the rods in the stress plot indicates the stress level and whether it is in tension or compression. The color of the rods in the deformation plot indicates the displacement level and whether it is in tension or compression.
More specifically, the color of the rods in the stress plot will be :</p>
<ul class="simple">
<li><p>blue: if the rod is in tension</p></li>
<li><p>red: if the rod is in compression</p></li>
</ul>
</section>
<section id="complete-code-of-the-tutorial">
<h2>Complete Code of the Tutorial<a class="headerlink" href="#complete-code-of-the-tutorial" title="Link to this heading">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pathlib</span>

<span class="kn">from</span> <span class="nn">npp_2d_truss_analysis</span> <span class="kn">import</span> <span class="n">Info</span><span class="p">,</span> <span class="n">TrussAnalysisProject</span>

<span class="n">pp_project_dir</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;./&#39;</span><span class="p">)</span>
<span class="n">FNAME_PREFIX</span> <span class="o">=</span> <span class="s1">&#39;test&#39;</span>

<span class="n">info</span> <span class="o">=</span> <span class="n">Info</span><span class="p">(</span><span class="n">project_directory</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">pp_project_dir</span><span class="o">.</span><span class="n">absolute</span><span class="p">()),</span> <span class="n">file_name</span><span class="o">=</span><span class="n">FNAME_PREFIX</span><span class="p">)</span>

<span class="n">JSON_TEXT</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;{</span>
<span class="s2">    &quot;mesh&quot;:{</span>
<span class="s2">        &quot;nodes&quot;: [</span>
<span class="s2">        {&quot;id&quot;: 1, &quot;coordinates&quot;: [0, 0]},</span>
<span class="s2">        {&quot;id&quot;: 2, &quot;coordinates&quot;: [0, 2]},</span>
<span class="s2">        {&quot;id&quot;: 3, &quot;coordinates&quot;: [0, 4]},</span>
<span class="s2">        {&quot;id&quot;: 4, &quot;coordinates&quot;: [4, 4]},</span>
<span class="s2">        {&quot;id&quot;: 5, &quot;coordinates&quot;: [4, 2]}</span>
<span class="s2">        ],</span>
<span class="s2">        &quot;elements&quot;: [</span>
<span class="s2">        {&quot;id&quot;: 1, &quot;connectivity&quot;: [4, 3], &quot;materialId&quot;: 1},</span>
<span class="s2">        {&quot;id&quot;: 2, &quot;connectivity&quot;: [3, 2], &quot;materialId&quot;: 1},</span>
<span class="s2">        {&quot;id&quot;: 3, &quot;connectivity&quot;: [2, 4], &quot;materialId&quot;: 1},</span>
<span class="s2">        {&quot;id&quot;: 4, &quot;connectivity&quot;: [4, 5], &quot;materialId&quot;: 1},</span>
<span class="s2">        {&quot;id&quot;: 5, &quot;connectivity&quot;: [5, 2], &quot;materialId&quot;: 1},</span>
<span class="s2">        {&quot;id&quot;: 6, &quot;connectivity&quot;: [2, 1], &quot;materialId&quot;: 1},</span>
<span class="s2">        {&quot;id&quot;: 7, &quot;connectivity&quot;: [1, 5], &quot;materialId&quot;: 1}</span>
<span class="s2">        ],</span>
<span class="s2">        &quot;materials&quot;: [</span>
<span class="s2">        {&quot;id&quot;: 1, &quot;youngModulus&quot;: 200000000000.0, &quot;area&quot;: 1.0}</span>
<span class="s2">        ]</span>
<span class="s2">    },</span>
<span class="s2">    &quot;displacements&quot;:{</span>
<span class="s2">        &quot;pin&quot;: [</span>
<span class="s2">        {&quot;id&quot;: 1, &quot;node&quot;:4, &quot;angle&quot;: 0,&quot;dx&quot;: 0, &quot;dy&quot;:0}</span>
<span class="s2">        ],</span>
<span class="s2">        &quot;rollers&quot;: [</span>
<span class="s2">        {&quot;id&quot;: 1, &quot;node&quot;: 1, &quot;direction&quot;: 1, &quot;angle&quot;: -63.4349, &quot;dx&quot;:0}</span>
<span class="s2">        ]</span>
<span class="s2">    },</span>
<span class="s2">    &quot;forces&quot;: [</span>
<span class="s2">    {&quot;id&quot;: 1, &quot;node&quot;:5, &quot;direction&quot;: -180,&quot;x&quot;: 40000, &quot;y&quot;:0},</span>
<span class="s2">    {&quot;id&quot;: 2, &quot;node&quot;:3, &quot;direction&quot;:  200,&quot;x&quot;: 20000, &quot;y&quot;:0}</span>
<span class="s2">    ]</span>
<span class="s2">}&quot;&quot;&quot;</span>


<span class="n">truss_problem</span> <span class="o">=</span> <span class="n">TrussAnalysisProject</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">json_text</span><span class="o">=</span><span class="n">JSON_TEXT</span><span class="p">,</span> <span class="n">info</span><span class="o">=</span><span class="n">info</span><span class="p">)</span>

<span class="n">truss_problem</span><span class="o">.</span><span class="n">_forces</span><span class="o">.</span><span class="n">update_force_by_id</span><span class="p">(</span><span class="n">force_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="mi">180</span><span class="o">+</span><span class="mi">20</span><span class="p">)</span>
<span class="n">truss_problem</span><span class="o">.</span><span class="n">_forces</span><span class="o">.</span><span class="n">list_forces</span><span class="p">()</span>
<span class="n">truss_problem</span><span class="o">.</span><span class="n">write_input_data</span><span class="p">()</span>
<span class="n">truss_problem</span><span class="o">.</span><span class="n">plot_truss</span><span class="p">(</span><span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># solution</span>
<span class="n">truss_problem</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-------------solution ----------------&quot;</span><span class="p">)</span>
<span class="n">truss_problem</span><span class="o">.</span><span class="n">report_reactions</span><span class="p">(</span><span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;&gt;12.1f&#39;</span><span class="p">)</span>
<span class="n">truss_problem</span><span class="o">.</span><span class="n">report_rod_forces</span><span class="p">(</span><span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;&gt;12.1f&#39;</span><span class="p">)</span>
<span class="c1"># plotting results</span>
<span class="n">truss_problem</span><span class="o">.</span><span class="n">plot_deformation</span><span class="p">(</span><span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">truss_problem</span><span class="o">.</span><span class="n">plot_stresses</span><span class="p">(</span><span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">NPP 2d Truss Analysis</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html#developers">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../background.html">Truss Analysis Bakcground</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation/Setup</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_original_input.html">Tutorial original input</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_json_input.html">Tutorial json  input</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_single_file_json.html">Tutorial for single file json   input</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Tutorials</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Tutorials</a></li>
      <li>Next: <a href="tutorial_original_input.html" title="next chapter">Tutorial original input</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Nikolaos Papadakis.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/tutorials/quickstart.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>